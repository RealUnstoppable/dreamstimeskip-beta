<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module" src="/js/theme-loader.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarmonyTunes | un</title>
    <meta name="description" content="Your daily dose of trending music.">
    
    <link rel="icon" type="image/png" href="/images/dreams-favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/themes.css">
    <link rel="stylesheet" href="/css/harmonytunes.css">
</head>
<body>

    <header class="main-header"></header>

    <div class="spotify-layout">
        <main class="harmony-main">
            
            <div id="view-home">
                
                <nav class="pill-nav">
                    <button class="nav-pill active" id="nav-home">Home</button>
                    <button class="nav-pill" id="nav-search">Search</button>
                    <button class="nav-pill" id="nav-playlists">Playlists</button>
                    <button class="nav-pill" id="nav-favorites">Favorites</button>
                </nav>

                <div class="greet-section">
                    <h1 id="greeting">Welcome Back</h1>
                </div>

                <section class="shelf">
                    <div class="shelf-header">
                        <h2>Jump Back In</h2>
                        <span class="see-all">History</span>
                    </div>
                    <div class="card-grid" id="container-jump-back-in">
                        </div>
                </section>

                <section class="shelf">
                    <div class="shelf-header">
                        <h2>Recommended for You</h2>
                    </div>
                    <div class="card-grid" id="container-recommended">
                        </div>
                </section>

                <section class="shelf">
                    <div class="shelf-header">
                        <h2>HarmonyTunes on TikTok</h2>
                        <a href="https://www.tiktok.com/@harmonytunesofficial" target="_blank" class="see-all">Follow Us</a>
                    </div>
                    <div class="tiktok-grid" id="container-tiktoks">
                        </div>
                </section>

                <section class="shelf">
                    <div class="shelf-header">
                        <h2>Your Playlists</h2>
                    </div>
                    <div class="card-grid" id="container-playlists">
                        </div>
                </section>
            </div>

            <div id="view-playlist" style="display: none;">
                <button id="back-to-home" class="back-btn">← Back</button>
                <div class="playlist-header">
                     <img id="playlist-cover-image" src="/images/harmony-tunes-card.jpg" alt="Album Art" class="album-art">
                    <div class="playlist-details">
                        <h4 style="text-transform: uppercase; font-size: 0.8rem; margin-bottom: 5px;">Playlist</h4>
                        <h1 id="playlist-title">Available Tracks</h1>
                        <p id="playlist-desc">Unstoppable Media • 24 songs</p>
                        <div class="playlist-actions">
                            <button id="playlist-play-btn" class="action-btn-play">▶</button>
                            <button id="share-playlist-btn" class="action-btn-secondary">Share</button>
                        </div>
                    </div>
                </div>
                <div class="song-list-container">
                    <table class="song-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">#</th>
                                <th>Title</th>
                                <th>Artist</th>
                                <th style="text-align: right;">Duration</th>
                            </tr>
                        </thead>
                        <tbody id="song-list-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <div class="music-player-bar glass-panel">
        
        <div class="current-song-details">
            <img src="/images/harmony-tunes-card.jpg" alt="Current Album Art" id="player-album-art">
            <div class="song-info-text">
                <p id="player-song-title">Select a song</p>
                <p id="player-song-artist">...</p>
            </div>
            <button class="like-btn-player" id="player-like-btn">♡</button>
        </div>

        <div class="player-controls">
            <div class="controls">
                <button class="control-button" id="shuffle-btn" title="Shuffle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="16 21 21 21 21 16"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg>
                </button>
                <button class="control-button" id="prev-btn" title="Previous">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5" stroke-width="2" stroke="currentColor"></line></svg>
                </button>
                <button class="control-button play-pause-btn" id="play-pause-btn" title="Play/Pause">
                    <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="black"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                    <svg class="pause-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="black" style="display: none;"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
                </button>
                <button class="control-button" id="next-btn" title="Next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19" stroke-width="2" stroke="currentColor"></line></svg>
                </button>
                <button class="control-button" id="repeat-btn" title="Repeat">
                     <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>
                     <span class="repeat-indicator"></span>
                </button>
            </div>
            
            <div class="progress-bar-container">
                <span class="current-time">0:00</span>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <span class="total-time">0:00</span>
            </div>
        </div>

        <div class="volume-container">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon></svg>
            <div class="volume-slider-wrapper">
                <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
            </div>
        </div>
    </div>
    
    <audio id="audio-player"></audio>

  <footer class="main-footer"></footer> 

   <script type="module">
        import { loadNavbar } from './js/navbar.js';
        import { loadFooter } from './js/footer.js'; // Add this line
        
        document.addEventListener('DOMContentLoaded', () => {
            loadNavbar();
            loadFooter(); // Add this line
        });
    </script>
    
    <script type="module" src="/js/harmonytunes.js"></script>
    
</body>
</html>